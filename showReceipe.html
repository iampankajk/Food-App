<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Food_App</title>
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <div id="nav">
    </div>
    <div id="showfood">

    </div>

</body>

</html>

<script type="module">
    import navbar from "./components/navbar.js";
    import searchReceipe from "./scripts/searchReceipe.js";

    let navbar_div = document.getElementById("nav");

    navbar_div.innerHTML = navbar();





    var timerId;
    window.main = async function () {

        let name = document.getElementById("searchFood").value;

        //get search movie

        if (name.length < 3) {
            return false;
        }

        let response = searchReceipe(`https://www.themealdb.com/api/json/v1/1/search.php?s=${name}`)

        response.then((res) => {
            console.log(res.meals[0]);
            window.appendSearchFood(res.meals[0]);
        })

        // let movies_data = res.Search;
        // appendSearchFood(movies_data);

        // console.log(res);

    }
    window.debounce = function (func, delay) {

        // movies_div.style.display = "block";


        clearTimeout(timerId);
        timerId = setTimeout(function () {

            func();

        }, delay)

    }

</script>

<script src="searchScript.js"></script>

<script type="module">
    import showReceipe from "./scripts/showReceipe.js";

    let food = JSON.parse(localStorage.getItem("receipe"));
    showReceipe(food);

</script>